import{_ as c,s as l,r as m,c as f,o as a,w as h,a as d,b as r,d as o,t as _}from"./index-NXnxvJjD.js";const u={name:"Jellyfin",mixins:[l],props:{item:Object},data:()=>({stats:null,error:!1}),computed:{streams:function(){if(!this.stats)return"";let t=0;for(let e of this.stats)"NowPlayingItem"in e&&t++;return t}},created(){this.fetchStatus()},methods:{fetchStatus:async function(){const t={Authorization:`bearer ${this.item.apikey}`};try{const e=await this.fetch("/proxy/getSessions",{headers:t});this.error=!1,this.stats=e}catch(e){this.error=!0,console.error(e)}}}},p={class:"notifs"},y=["title"],g={key:1,class:"notif error fa-solid fa-triangle-exclamation",title:"Unable to fetch current status"};function k(t,e,i,x,b,s){const n=m("Generic");return a(),f(n,{item:i.item},{indicator:h(()=>[d("div",p,[s.streams>0?(a(),r("strong",{key:0,class:"notif playing",title:`${s.streams} active stream${s.streams>1?"s":""}`},_(s.streams),9,y)):o("",!0),t.error?(a(),r("i",g)):o("",!0)])]),_:1},8,["item"])}const w=c(u,[["render",k],["__scopeId","data-v-e92f8570"]]);export{w as default};
