import{_ as l,s as h,r as d,c as f,o as s,w as g,a as m,b as i,d as n,t as o}from"./index-NXnxvJjD.js";const a="/api/v1",p={name:"Readarr",mixins:[h],props:{item:Object},data:()=>({activity:null,missing:null,warnings:null,errors:null,serverError:!1}),created:function(){this.fetchConfig()},methods:{fetchConfig:function(){const t=e=>{console.error(e),this.serverError=!0};this.fetch(`${a}/health?apikey=${this.item.apikey}`).then(e=>{this.warnings=e.filter(r=>r.type==="warning").length,this.errors=e.filter(r=>r.type==="errors").length}).catch(t),this.fetch(`${a}/queue?apikey=${this.item.apikey}`).then(e=>{this.activity=e.totalRecords}).catch(t),this.fetch(`${a}/wanted/missing?apikey=${this.item.apikey}`).then(e=>{this.missing=e.totalRecords}).catch(t)}}},y={class:"notifs"},u={key:0,class:"notif activity",title:"Activity"},_={key:1,class:"notif missing",title:"Missing"},k={key:2,class:"notif warnings",title:"Warning"},v={key:3,class:"notif errors",title:"Error"},w={key:4,class:"notif errors",title:"Connection error to Readarr API, check url and apikey in config.yml"};function $(t,e,r,C,E,R){const c=d("Generic");return s(),f(c,{item:r.item},{indicator:g(()=>[m("div",y,[t.activity>0?(s(),i("strong",u,o(t.activity),1)):n("",!0),t.missing>0?(s(),i("strong",_,o(t.missing),1)):n("",!0),t.warnings>0?(s(),i("strong",k,o(t.warnings),1)):n("",!0),t.errors>0?(s(),i("strong",v,o(t.errors),1)):n("",!0),t.serverError?(s(),i("strong",w,"?")):n("",!0)])]),_:1},8,["item"])}const A=l(p,[["render",$],["__scopeId","data-v-de5fa37c"]]);export{A as default};
