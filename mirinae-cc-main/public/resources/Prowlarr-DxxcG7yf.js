import{_ as c,s as l,r as f,c as h,o as t,w as d,a as p,b as s,d as n,t as o}from"./index-NXnxvJjD.js";const m={name:"Prowlarr",mixins:[l],props:{item:Object},data:()=>({warnings:null,errors:null,serverError:!1}),created:function(){const r=parseInt(this.item.checkInterval,10)||0;r>0&&setInterval(()=>this.fetchConfig(),r),this.fetchConfig()},methods:{fetchConfig:function(){this.fetch(`/api/v1/health?apikey=${this.item.apikey}`).then(r=>{this.warnings=0,this.errors=0;for(var e=0;e<r.length;e++)r[e].type=="warning"?this.warnings++:r[e].type=="error"&&this.errors++}).catch(r=>{console.error(r),this.serverError=!0})}}},g={class:"notifs"},_={key:0,class:"notif warnings",title:"Warning"},u={key:1,class:"notif errors",title:"Error"},k={key:2,class:"notif errors",title:"Connection error to Prowlarr API, check url and apikey in config.yml"};function v(r,e,i,w,y,C){const a=f("Generic");return t(),h(a,{item:i.item},{indicator:d(()=>[p("div",g,[r.warnings>0?(t(),s("strong",_,o(r.warnings),1)):n("",!0),r.errors>0?(t(),s("strong",u,o(r.errors),1)):n("",!0),r.serverError?(t(),s("strong",k," ? ")):n("",!0)])]),_:1},8,["item"])}const E=c(m,[["render",v],["__scopeId","data-v-18ab0a4b"]]);export{E as default};
