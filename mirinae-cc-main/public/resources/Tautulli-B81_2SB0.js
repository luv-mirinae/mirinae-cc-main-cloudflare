import{_ as n,s as o,r as l,c as m,o as s,w as h,a as u,b as a,d as r,t as d}from"./index-NXnxvJjD.js";const f={name:"Tautulli",mixins:[o],props:{item:Object},data:()=>({stats:null,error:!1}),computed:{streams:function(){return this.stats?this.stats.stream_count:""}},created(){const t=parseInt(this.item.checkInterval,10)||0;t>0&&setInterval(()=>this.fetchStatus(),t),this.fetchStatus()},methods:{fetchStatus:async function(){try{const t=await this.fetch(`/api/v2?apikey=${this.item.apikey}&cmd=get_activity`);this.error=!1,this.stats=t.response.data}catch(t){this.error=!0,console.error(t)}}}},_={class:"notifs"},p=["title"],v={key:1,class:"notif error fa-solid fa-triangle-exclamation",title:"Unable to fetch current status"};function k(t,y,c,g,x,e){const i=l("Generic");return s(),m(i,{item:c.item},{indicator:h(()=>[u("div",_,[e.streams>0?(s(),a("strong",{key:0,class:"notif playing",title:`${e.streams} active stream${e.streams>1?"s":""}`},d(e.streams),9,p)):r("",!0),t.error?(s(),a("i",v)):r("",!0)])]),_:1},8,["item"])}const b=n(f,[["render",k],["__scopeId","data-v-1c8d1b72"]]);export{b as default};
