import{_ as a,s as c,r as l,c as f,o as n,w as g,a as m,b as s,d as o,t}from"./index-NXnxvJjD.js";const d={name:"Medusa",mixins:[c],props:{item:Object},data:()=>({config:null,serverError:!1}),created:function(){this.fetchConfig()},methods:{fetchConfig:function(){this.fetch("/api/v2/config",{headers:{"X-Api-Key":this.item.apikey}}).then(e=>{this.config=e}).catch(e=>{console.log(e),this.serverError=!0})}}},u={class:"notifs"},h={key:0,class:"notif news",title:"News"},p={key:1,class:"notif warnings",title:"Warning"},_={key:2,class:"notif errors",title:"Error"},y={key:3,class:"notif errors",title:"Connection error to Medusa API, check url and apikey in config.yml"};function k(e,v,r,w,E,C){const i=l("Generic");return n(),f(i,{item:r.item},{indicator:g(()=>[m("div",u,[e.config!==null&&e.config.system.news.unread>0?(n(),s("strong",h,t(e.config.system.news.unread),1)):o("",!0),e.config!==null&&e.config.main.logs.numWarnings>0?(n(),s("strong",p,t(e.config.main.logs.numWarnings),1)):o("",!0),e.config!==null&&e.config.main.logs.numErrors>0?(n(),s("strong",_,t(e.config.main.logs.numErrors),1)):o("",!0),e.serverError?(n(),s("strong",y,"?")):o("",!0)])]),_:1},8,["item"])}const b=a(d,[["render",k],["__scopeId","data-v-8988649b"]]);export{b as default};
