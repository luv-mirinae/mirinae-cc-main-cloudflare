import{_ as m,s as g,r as p,c as _,o as r,w as o,b as c,d as u,n as v,t as a,a as l,F as d,e as f}from"./index-NXnxvJjD.js";const n=Object.freeze({firing:"firing",pending:"pending",inactive:"inactive"}),b={name:"Prometheus",mixins:[g],props:{item:Object},data:()=>({api:{status:"",count:0,alerts:{firing:0,inactive:0,pending:0}}}),computed:{count:function(){return this.countFiring()||this.countPending()||this.countInactive()||0},level:function(){return this.countFiring()?n.firing:this.countPending()?n.pending:n.inactive}},created(){this.fetchStatus()},methods:{fetchStatus:async function(){this.api=await this.fetch("api/v1/alerts").catch(t=>console.log(t))},countFiring:function(){var t,i;return this.api?(i=(t=this.api.data)==null?void 0:t.alerts)==null?void 0:i.filter(e=>e.state===n.firing).length:0},countPending:function(){var t,i;return this.api?(i=(t=this.api.data)==null?void 0:t.alerts)==null?void 0:i.filter(e=>e.state===n.pending).length:0},countInactive:function(){var t,i;return this.api?(i=(t=this.api.data)==null?void 0:t.alerts)==null?void 0:i.filter(e=>e.state===n.pending).length:0}}},k={class:"title is-4"},y={class:"subtitle is-6"};function F(t,i,e,P,x,s){const h=p("Generic");return r(),_(h,{item:e.item},{content:o(()=>[l("p",k,a(e.item.name),1),l("p",y,[e.item.subtitle?(r(),c(d,{key:0},[f(a(e.item.subtitle),1)],64)):t.api?(r(),c(d,{key:1},[f(a(s.count)+" "+a(s.level)+" alerts ",1)],64)):u("",!0)])]),indicator:o(()=>[t.api?(r(),c("div",{key:0,class:v(["status",s.level])},a(s.count),3)):u("",!0)]),_:1},8,["item"])}const C=m(b,[["render",F],["__scopeId","data-v-f7b7e537"]]);export{C as default};
