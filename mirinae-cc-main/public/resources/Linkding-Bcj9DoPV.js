import{_ as r,s as m,G as l,r as u,b as p,o as a,f as h,c as d,F as f}from"./index-NXnxvJjD.js";const _={name:"Linkding",components:{Generic:l},mixins:[m],props:{item:Object},data:()=>({bookmarks:[]}),computed:{calculatedLimit:function(){const t=parseInt(this.item.limit)||5;return Math.min(Math.max(t,1),15)}},created(){this.fetchBookmarks()},methods:{fetchBookmarks:async function(){const t={Authorization:`Token ${this.item.token}`,Accept:"application/json"};let i="";this.item.query&&(i=`&q=${encodeURIComponent(this.item.query)}`);let s=`/api/bookmarks/?limit=${this.calculatedLimit}${i}`;this.fetch(s,{headers:t}).then(n=>{this.bookmarks=n.results.map(e=>({name:`${e.title}`,subtitle:`${e.description}`,url:e.url,logo:`${e.favicon_url}`,tag:`${e.tag_names.join(" #")}`}))}).catch(n=>{console.log(n)})}}};function $(t,i,s,n,e,k){const c=u("Generic");return a(!0),p(f,null,h(t.bookmarks,o=>(a(),d(c,{key:o.name,item:o},null,8,["item"]))),128)}const y=r(_,[["render",$]]);export{y as default};
