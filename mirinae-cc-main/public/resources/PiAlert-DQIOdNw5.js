import{_ as r,s as i,r as a,c as l,o,w as d,a as t,b as h,d as v,t as s}from"./index-NXnxvJjD.js";const _={name:"PiAlert",mixins:[i],props:{item:Object},data:()=>({total:0,connected:0,newdevices:0,downalert:0,serverError:!1}),created(){const e=parseInt(this.item.updateInterval,10)||0;e>0&&setInterval(()=>this.fetchStatus(),e),this.fetchStatus()},methods:{fetchStatus:async function(){this.fetch("/php/server/devices.php?action=getDevicesTotals").then(e=>{this.total=e[0],this.connected=e[1],this.newdevices=e[3],this.downalert=e[4]}).catch(e=>{console.log(e),this.serverError=!0})}}},f={class:"notifs"},m={class:"notif total",title:"Total Devices"},p={class:"notif connected",title:"Connected Devices"},u={class:"notif newdevices",title:"New Devices"},w={class:"notif alert",title:"Down Alerts"},g={key:0,class:"notif alert",title:"Connection error to PiAlert server, check the url in config.yml"};function D(e,k,n,C,I,y){const c=a("Generic");return o(),l(c,{item:n.item},{indicator:d(()=>[t("div",f,[t("strong",m,s(e.total),1),t("strong",p,s(e.connected),1),t("strong",u,s(e.newdevices),1),t("strong",w,s(e.downalert),1),e.serverError?(o(),h("strong",g,"?")):v("",!0)])]),_:1},8,["item"])}const B=r(_,[["render",D],["__scopeId","data-v-d1d58ae9"]]);export{B as default};
