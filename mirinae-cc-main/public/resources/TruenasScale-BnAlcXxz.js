import{_ as u,s as m,r as _,c as f,o as a,w as r,b as c,d as l,n as p,t,a as n,F as h,e as k}from"./index-NXnxvJjD.js";const v={name:"TruenasScale",mixins:[m],props:{item:Object},data:()=>({fetchOk:null,versionstring:null}),computed:{status:function(){return this.fetchOk?"online":"offline"}},created(){this.fetchStatus()},methods:{fetchStatus:async function(){let e={};this.item.api_token&&(e.Authorization=`Bearer ${this.item.api_token}`),this.fetch("/api/v2.0/system/version",{headers:e}).then(s=>{this.fetchOk=!0,this.versionstring=s}).catch(s=>{this.fetchOk=!1,console.log(s)})}}},g={class:"title is-4"},b={class:"subtitle is-6"},y={class:"is-hidden-touch"},B={class:"is-hidden-desktop"};function O(e,s,i,S,V,o){const d=_("Generic");return a(),f(d,{item:i.item},{content:r(()=>[n("p",g,t(i.item.name),1),n("p",b,[i.item.subtitle?(a(),c(h,{key:0},[k(t(i.item.subtitle),1)],64)):e.versionstring?(a(),c(h,{key:1},[n("span",y,"Version "+t(e.versionstring),1),n("span",B,"Version "+t(e.versionstring.split("-").pop()),1)],64)):l("",!0)])]),indicator:r(()=>[o.status?(a(),c("div",{key:0,class:p(["status",o.status])},t(o.status),3)):l("",!0)]),_:1},8,["item"])}const x=u(v,[["render",O],["__scopeId","data-v-03db6e27"]]);export{x as default};
