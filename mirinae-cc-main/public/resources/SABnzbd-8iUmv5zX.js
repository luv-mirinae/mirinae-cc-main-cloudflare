import{_ as m,s as h,r as f,c as _,o as e,w as d,a as r,b as o,t as i,e as p,d as l}from"./index-NXnxvJjD.js";const c=["KB","MB","GB"],w=t=>{let s=0;for(;t>1e3&&s<c.length;)t/=1e3,s++;return Intl.NumberFormat(void 0,{maximumFractionDigits:2}).format(t||0)+` ${c[s]}/s`},y={name:"SABnzbd",mixins:[h],props:{item:Object},data:()=>({stats:null,error:!1,dlSpeed:null,ulSpeed:null}),computed:{downloads(){return this.stats?this.stats.noofslots:""},downRate(){return w(this.dlSpeed)}},created(){const t=parseInt(this.item.downloadInterval,10)||0;t>0&&setInterval(()=>this.fetchStatus(),t),this.fetchStatus()},methods:{fetchStatus:async function(){try{const t=await this.fetch(`/api?output=json&apikey=${this.item.apikey}&mode=queue`);this.error=!1,this.stats=t.queue,this.dlSpeed=parseFloat(t.queue.speed)*1024}catch(t){this.error=!0,console.error(t)}}}},k={class:"notifs"},b=["title"],S={key:1,class:"notif error fa-solid fa-triangle-exclamation",title:"Unable to fetch current status"},B={class:"title is-4"},v={key:0,class:"subtitle"},g={key:1,class:"subtitle is-6"},x={key:0,class:"error"},I={key:1,class:"down monospace"};function N(t,s,n,q,A,a){const u=f("Generic");return e(),_(u,{item:n.item},{indicator:d(()=>[r("div",k,[a.downloads>0?(e(),o("strong",{key:0,class:"notif downloading",title:`${a.downloads} active download${a.downloads>1?"s":""}`},i(a.downloads),9,b)):l("",!0),t.error?(e(),o("i",S)):l("",!0)])]),content:d(()=>[r("p",B,i(n.item.name),1),n.item.subtitle?(e(),o("p",v,i(n.item.subtitle),1)):(e(),o("p",g,[t.error?(e(),o("span",x,"An error has occurred.")):(e(),o("span",I,[s[0]||(s[0]=r("p",{class:"fas fa-download"},null,-1)),p(" "+i(a.downRate),1)]))]))]),_:1},8,["item"])}const F=m(y,[["render",N],["__scopeId","data-v-16194254"]]);export{F as default};
